@page "/undergraduate/viewcurrentclasses"

<MudDataGrid Items="@queryClasses" MultiSelection="true" SortMode="SortMode.Multiple" Filterable="true" FilterCaseSensitivity="DataGridFilterCaseSensitivity.CaseInsensitive">
    <Columns>
        <PropertyColumn Title="Department" Property="x => x.StartDate.Year == 2023 ? x.Department : null" />
        <PropertyColumn Title="Course Name" Property="x => x.StartDate.Year == 2023 ? x.CourseName : null" />
        <PropertyColumn Title="CRN" Property="x => x.StartDate.Year == 2023 ? x.CRN : null" />
        <PropertyColumn Title="Section" Property="x => x.StartDate.Year == 2023 ? x.Section : null" />
        <!--<PropertyColumn Title="Professor Name" Property="x => x.StartDate.Year == 2023 ? x.Professorname : null" />
        <PropertyColumn Title="Start Date/Time" Property="x => x.StartDate.Year == 2023 ? x.StartDate : null" />
        <PropertyColumn Title="End Date/Time" Property="x => x.StartDate.Year == 2023 ? x.EndDate : null" />-->
        <PropertyColumn Title="Period" Property="x => x.StartDate.Year == 2023 ? x.Period : null" />
        <PropertyColumn Title="Building ID" Property="x => x.StartDate.Year == 2023 ? x.BuildingID : null" />
        <PropertyColumn Title="Room ID" Property="x => x.StartDate.Year == 2023 ? x.RoomID : null" />
        <!--<PropertyColumn Title="Day" Property="x => x.StartDate.Year == 2023 ? x.Day : null" />
        <PropertyColumn Title="Remaining Capacity" Property="x => x.StartDate.Year == 2023 ? x.MaxCapacity - x.Enrolled : null" /> -->

    </Columns>
    <PagerContent>
        <MudDataGridPager T="Classes" />
    </PagerContent>
</MudDataGrid>

@code
{

    Mongo mongo = new Mongo("college-site-2");
    List<Classes> queryClasses;
    List<TimeWindow> queryTime;



    List<popTable> pop = new List<popTable> { };


    protected override async Task OnInitializedAsync()
    {
        queryClasses = mongo.LoadRecord<Classes>("classes");
    }

    public class popTable
    {
        public string department { get; set; }
        public string courseName { get; set; }
        public string CRN { get; set; }
        public string section { get; set; }
        public string professorName{ get; set; }
        public DateTime startDateTime{ get; set; }
        public DateTime endDateTime { get; set; }
        public int period { get; set; }
        public int buildingID { get; set; }
        public int roomID { get; set; }
        public string day { get; set; }
        public int remainingCapacity { get; set; }
    }

    private void populateTable()
    {
        pop.Add(new popTable
            {
                department =
            });
    }

}